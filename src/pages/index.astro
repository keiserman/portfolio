---
import MainLayout from "../layouts/MainLayout.astro";
import ProjectList from "../components/ProjectList.astro";
import Button from "../components/Button.astro";
---

<MainLayout>
  <section>
    <div
      class="max-w-screen-xl m-auto px-6 flex justify-between items-center pb-28 pt-40"
    >
      <div class="max-w-4xl">
        <h1
          data-animate="heading"
          class="md:text-6xl text-4xl leading-tight mb-4"
        >
          Hello! I'm Kevin â€” <br />Web Designer & Developer
        </h1>
        <p class="text-lg text-zinc-700 mb-6 max-w-xl">
          Bringing a design-first approach to front-end web development to
          create intuitive and impactful user experiences.
        </p>
      </div>
    </div>
  </section>
  <section id="portfolio">
    <div class="max-w-7xl m-auto px-6 flex justify-between items-center py-4">
      <ProjectList />
    </div>
  </section>
  <section id="contact">
    <div class="max-w-7xl m-auto px-6 py-20">
      <h2 class="text-5xl mb-4" data-animate="heading">Lets work together</h2>
      <p class="text-lg text-zinc-700 mb-6 max-w-xl">
        Whether you need of design assistance or code tweaking, I can help take
        your project to the next level.
      </p>
      <Button text="Get in touch" />
    </div>
  </section>
</MainLayout>
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import SplitType from "split-type";

  gsap.registerPlugin(ScrollTrigger);

  setupTextAnimation();

  function setupTextAnimation() {
    const elements = document.querySelectorAll("[data-animate='heading']");
    new SplitType(elements, {
      types: "lines, words, chars",
      tagName: "span",
    });

    elements.forEach((element) => {
      gsap.from(element.querySelectorAll(".char"), {
        scrollTrigger: {
          trigger: element,
          start: "top center",
          end: "bottom center",
          scrub: 1,
        },
        opacity: 0.25,
        duration: 1,
        ease: "power1.out",
        stagger: 0.1,
      });
    });
  }
</script>
